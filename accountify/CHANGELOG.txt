TODO

Web-based setup instead of editing login_config.php

CHANGELOG

X: decided not to do it, now or ever. *: done. ?: verify. blank: not done.

2.03 RELEASED 2008-01-22

Silenced yet more DB.php warnings under PHP5. 

2.02 RELEASED 2008-01-14

* fromAddress parameter now supported in login_config.php. This
  overrides the default "from:" address for verification emails etc.,
  which can result in confusion for the user.

* Eye-catching yellow background for error messages such as
  "that email address is already in use." Originally the error
  messages were too easy to miss.

2.01 RELEASED 2007-12-19

* When accounts are deleted or closed, any session(s) already in
  progress for those users are now immediately logged out.

* Strict, noisy PHP error handing function commented out in
  login.php (but you might want to uncomment it for debug use). 

2.0 RELEASED 2007-12-17

* Bring changes back from PHP5, INCLUDING captcha.php and all other files
  (the whole darn zipfile)!
* Release captcha fixes for general use
* Retest on PHP4
* Useful message when trying to log into an unverified account
* Check blocklist at account creation & editing times
* Test eraser scenarios: later deletion
* Truly-delete-account feature (to free up usernames)
* Support bringing closed accounts back to life.
* Implement error message handling for html callbacks, 
    return valid result codes from generalHtml etc. 
* Check for duplicate username and duplicate email address
    in generalValidator to save the user from frustration later.
* Also a non-category-specific destroy/close callback.
* A way to do non-persistent session fields to avoid performance hits tmp_
* Document 'loginDataValidDone' with terms and conditions example
* Implement hints from validator to generator
* cssUrl option
* loginDataValidWithPassword is broken! - no it isn't
* PHP 5 test (in a VM somewhere)
* Test oh so very very much
* Document cssUrl option
* Document that extenders must not use a login_ prefix 
  in form fields
* Put the reasonable defaults back
* Include mycode.php, commented out options to activate it all 
* Dual license
* Ship that puppy

* Figure out why blue is in the wrong places in create
* Remove temporary blue
* Fix tabs on admin page
* Always go full page for both account creation and account editing
* Shared top/bottom for all full pages for easier customization
* Generalize full page management, with acceptable aesthetics
* Test eraser scenarios: create failure 
* Add the captcha to the end of categories, not baseCategories
* "Next" rather than "finish" appearing on birthdate page
* check for proto ID and supply it to writers once it exists,
    create doesn't work right for birthdate etc. without it
* 'loginDataValidDone': variant of loginDataValid that means
    no further trips to this particular tab are needed,
    relevant only at create time 
* Don't redisplay/re-require captcha when using 'previous'
* Figure out what's wrong with birthdate validator
* Why is POST not restoring properly on 'previous'?
* Prompt for password if any category returns loginDataValidWithPassword.
* Test with a custom category in the mix
* categoryPage never gets invoked in the first place. Sort that out.

* Merge all 'settings' and 'create' into categoryPage.

* Repopulate $_POST correctly on category switches and
    previous/next operations. Leave out anything with a login_
    prefix. 

* Optional built-in session support
* Use a separate table for sessions
* Document the invitation-only option
* Document invitations in general
* Document $login->grantInvitations,
  and the fact that you can't just alter $_SESSION['login_invitations']
* Document MEDIUMBLOB change.
* Document login_invitedby
* Note that there are still limits! Packet size means LARGEBLOB won't help.
* Document that you probably want to edit chrome/invite_users.php

* Will login.css be fetched correctly when the adminpage or settingspage
  is not generated from a page that happens to be test.php? Nope.
  We need to know where things live to do this stuff properly.
  RESOLVED: use require in a style element.
* Restore correct tab when displaying error messages in 
  "Your Account Settings"
* Optional CAPTCHA for creating accounts and using invitations
* Option to purge stale invitations
* Admin: close account by username
* Test the "block email while we're at it" feature too 
* Don't let the admin account get closed by any method
* Address the problem of waaaaay too many email blocks: add option to
  remove a typed in list of email addresses from the block list, remove 
  option to list ALL the blocks because there will just be too many. 
  Keep that mechanism for blocked domains though. 
* Index 'verified'
* Blocked usernames list ("staff" and so forth)
* Test very thoroughly, I took out that while(true) { ... break; } thing
* Change email address feature (and option to block it)
* Good solution for "friending back" situations with invites
* Retest username picker, you broke it a little
* Implement invitation acceptance
* Verify that the email address you are changing to is not already in the
	system in a non-confusing way
* GUI for displaying # of available invites when you're not the admin
* Admin-only OR users who have enough invites available
* From now on we create admin account in setup.php
* GUI for issuing invites when you are the admin
* Invitation-only system option: block the create account form and links
* GUI for using invites when you're not the admin
* Copy various defaults to standard login_config.php for easy editing
* Test non-admin use of invites
* Invite landing page
* Test invites + manual account approval, including callbacks
* Rememberme doesn't display weird errors before normal logins work
* Trash stale rememberme cookies when spotted
* I'm calling loginMacros everywhere, make sure I got it right.
* Test MEDIUMBLOB type (mysql). 
* Make sure upgrading of BLOB type sticks.
* UI for inviting people
* Chrome files referenced in admin UI
* Generate invitation URL
* Angst about race conditions re: "enough invites"
* Tabs for admin page

LATER MAYBE:
X Prettier default emails
X make captcha less ugly
X Prettier chrome? Find someone to work with - soon but not yet
X Horiz scrollbar problem: Firefox 1.5 for Linux RHEL5 specific, yawn. 
X First-login callback (if ($_SESSION['sessions'] == 1 already works))
NEVER:
X Multiple accounts per email address (just... a bad idea)
X Schema fix: separate tables for unverified/unapproved/closed users?
  No: indexing is fine and avoids several maintenance hassles
X Verify the email address when the user changes their email address:
  Full of gotchas and we already put the brakes on by making them
  verify the initial address

1.2 RELEASED 2007-11-07

* Move real name field into database
* UI for approving accounts
* Notification when your account gets approved or denied
* Document 64K limit on $_SESSIONS in MySQL and ways around it
* "Settings" and other non-admin buttons broken when
  admin tools are visible due to unclosed <form>
* More space for admin tools
* Fixed bug that allowed closed accounts to log in 
  until 'remember me' cookie expired
* Document changes especially need for new CSS and chrome

1.1 RELEASED 2007-10-23

1.1: 2007-10-23: "remember me on this computer" option
 
1.03 RELEASED 2007-08-14

1.03: 2007-08-14: $_SESSION['id'] is now valid on the same
  access in which an account is first confirmed. 
  Previously 'user' and 'email' were valid only after
  $login->prompt() was called, and 'id' was not valid at all
  until the next access.

1.02 RELEASED 2007-06-22

1.02: 2007-06-22: never delete cookie & session file, just
  clear the session data instead. Makes it possible to display
  a captcha in the same page fetch in which a logout takes place,
  for instance.

  'guestFields' option added to login_config.php. This allows
  you to specify a list of fields that should NOT be deleted from
  the session when the user logs out (they are not saved in an
  account, but they stick around in the current guest user session).
  Also useful for the captcha scenario.

1.01 RELEASED 2007-06-21

1.01: 2007-06-21: results was a typo, real name was lost at account creation
1.01: 2007-06-21: SESSIONS was a typo, prevented session count increment
1.01: 2007-06-21: 'closed' check in SQL defective, broke logins
1.01: 2007-06-21: find chrome .txt files relative to source code OR page

1.0 RELEASED 2007-05-10

Changes prior to 1.0:

* change real name (newlyweds! We need this feature!)
* show a "change password" link when logged in
* email address OR nickname as logon
* optional nicknames
* A way to move to nicknames LATER
* Abstract away the ugly 1062 error stuff
* Use placeholders in mysql
* support for mandatory logins
x captcha option (use mine)
* delete old unverified accounts for admin
* delete recently unused accounts for admin
* block account (and therefore email address) for admin
x allow email address changes when usernames are in use?
* Still use session_start because it's good for guests
* table creation utility for admin
* email address as unique key
* all of the little pages I'm requiring here and there
* change password
* Switch to OOP to avoid 800 million global statements

